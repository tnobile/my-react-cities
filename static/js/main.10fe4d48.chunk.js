(this["webpackJsonpmy-react-cities"]=this["webpackJsonpmy-react-cities"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},20:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(9),o=r.n(a),s=(r(14),r(15),r(3)),l=r.n(s),i=r(6),u=r(5),d="https://tnobile.github.io/data-world-cities/",j=function(){var e=Object(i.a)(l.a.mark((function e(t){var r,n,c,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:100,e.next=3,fetch(d+t);case 3:if((n=e.sent).ok){e.next=7;break}throw c="An error has occured: ".concat(n.status),new Error(c);case 7:return e.next=9,n.json();case 9:if(a=e.sent,!(r<=0)){e.next=12;break}return e.abrupt("return",a);case 12:return e.abrupt("return",a.filter((function(e,t){return t<r})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=r(1),p=r(7),h=r(0),m=function(e){var t=e.columns,r=e.data,c=Object(p.useTable)({columns:t,data:r},p.useFilters,p.useSortBy),a=c.getTableProps,o=c.getTableBodyProps,s=c.headerGroups,l=c.rows,i=c.prepareRow,d=c.setFilter,j=Object(n.useState)(""),m=Object(u.a)(j,2),O=m[0],f=m[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{value:O,onChange:function(e){var t=e.target.value||void 0;d("city",t),f(t)},placeholder:"Search city name"}),Object(h.jsxs)("table",Object(b.a)(Object(b.a)({},a()),{},{children:[Object(h.jsx)("thead",{children:s.map((function(e){return Object(h.jsx)("tr",Object(b.a)(Object(b.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(h.jsx)("th",Object(b.a)(Object(b.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:e.render("Header")}))}))}))}))}),Object(h.jsx)("tbody",Object(b.a)(Object(b.a)({},o()),{},{children:l.map((function(e,t){return i(e),Object(h.jsx)("tr",Object(b.a)(Object(b.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(h.jsx)("td",Object(b.a)(Object(b.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})},O=r(4),f=r.n(O),g=new Intl.NumberFormat,x=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)("gb"),o=Object(u.a)(a,2),s=o[0],d=o[1];Object(n.useEffect)((function(){Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(s,100);case 2:t=e.sent,console.log("got ".concat(t.length,"  for ").concat(s)),c(t);case 5:case"end":return e.stop()}}),e)})))().catch((function(e){c([]),console.error("".concat(e.name,":").concat(e.message))}))}),[s]);var b=Object(n.useMemo)((function(){return[{Header:"Cities",columns:[{Header:"Name",accessor:"city"},{Header:"Name(admin)",accessor:"admin_name"},{Header:"Country",accessor:"country"},{Header:"Code",accessor:"iso2",id:"flag",Cell:function(e){var t=e.cell.value;return Object(h.jsx)("span",{className:"badge",children:t})}},{Header:"Flag",accessor:"iso2",Cell:function(e){return function(e){switch(e){case"ES":return"\ud83c\uddea\ud83c\uddf8";case"JP":return"\ud83c\uddef\ud83c\uddf5";case"GB":return"\ud83c\uddec\ud83c\udde7";case"AR":return"\ud83c\udde6\ud83c\uddf7";case"CN":return"\ud83c\udde8\ud83c\uddf3";case"CH":return"\ud83c\udde8\ud83c\udded";case"IT":return"\ud83c\uddee\ud83c\uddf9";case"FR":return"\ud83c\uddeb\ud83c\uddf7";case"US":return"\ud83c\uddfa\ud83c\uddf8";case"DE":return"\ud83c\udde9\ud83c\uddea";default:return e}}(e.cell.value)}},{Header:"Capital",accessor:"capital"}]},{Header:"Details",columns:[{Header:"Population",accessor:"population",style:{"text-align":"right",color:"pink",background:"green"},Cell:function(e){var t=e.cell.value;return g.format(t)}},{Header:"Population(Proper)",accessor:"population_proper",Cell:function(e){return console.log(e.cell),Object(h.jsx)("div",{style:{textAlign:"right",color:"purple",background:"lightblue"},children:g.format(e.cell.value)})}},{Header:"Latitude",accessor:"lat"},{Header:"Longitudo",accessor:"lng"}]}]}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:f.a.topRow,children:[Object(h.jsx)("div",{className:f.a.topColumn,children:"Country/City Data"}),Object(h.jsx)("div",{className:f.a.topColumn,children:Object(h.jsxs)("select",{className:f.a.selector,name:"country",defaultValue:s,onChange:function(e){d(e.target.value)},children:[Object(h.jsx)("option",{value:"jp",name:"jp",children:"Japan"}),Object(h.jsx)("option",{value:"gb",name:"gb",children:"UK"}),Object(h.jsx)("option",{value:"ch",name:"ch",children:"Switzerland"}),Object(h.jsx)("option",{value:"ar",name:"ar",children:"Argentina"}),Object(h.jsx)("option",{value:"cn",name:"cn",children:"China"}),Object(h.jsx)("option",{value:"de",name:"de",children:"Germany"}),Object(h.jsx)("option",{value:"es",name:"es",children:"Spain"}),Object(h.jsx)("option",{value:"fr",name:"fr",children:"France"})]})}),Object(h.jsx)("div",{className:f.a.topColumn,children:Object(h.jsx)("a",{href:"https://tnobile.github.io/data-world-cities/",children:"source"})})]}),r&&r.length>0&&Object(h.jsx)(m,{columns:b,data:r}),r&&0===r.length&&Object(h.jsxs)("h2",{children:["No data for ",s]})," "]})};r(19);var v=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(x,{})})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,21)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),C()},4:function(e,t,r){e.exports={selector:"Home_selector__2VNFS",source:"Home_source__13bXq",topColumn:"Home_topColumn__1oQlN",topRow:"Home_topRow__9XaAO"}}},[[20,1,2]]]);
//# sourceMappingURL=main.10fe4d48.chunk.js.map